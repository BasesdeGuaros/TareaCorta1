
<div class="row">

  <div class=" text-center">
    <a [routerLink]="['/admin']">
      <h1 class="h3 mb-3 font-weight-normal">
        Admin
      </h1>
    </a>
    
  </div>

  <div style="position:absolute; left: 1010px; top: 60px">

    <button type="submit" class="btn btn-success" (click)="activateModal()" >Agregar </button>

  </div>

</div>



<table class="table table-dark">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Producto</th>
      <th scope="col">ID</th>
      <th scope="col">Actions</th>

    </tr>
  </thead>
  <tbody>

    <tr *ngFor="let cat of categories; let i = index">


      <td>{{i+1}}</td>
      <td>{{cat.name}}</td>
      <td>{{cat.id}}</td>
      

      <td>


        <button type="button" id="button1" class="btn btn-secondary" (click)="editCategory(i)" data-toggle="modal" data-target="#editModal" data-whatever="@mdo">Edit</button>


        <a (click)="deleteCategory(i)" class="btn btn-danger">
          Delete
        </a>

      </td>


    </tr>


  </tbody>
</table>


<div style="position:absolute; left: 800px; top: 300px">


  <div class="modal fade" id="addCategoryModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">


    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit productor</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">

          <div class="row">

            <div class="col-md-8 order-md-1">
              <form class="needs-validation " novalidate id="form1">
                <div class="row">

                  <div class="col-md-6 mb-3">
                    <label for="firstName">Nombre</label>
                    <input type="text" class="form-control" id="firstName" placeholder="" value="" name="name" [(ngModel)]=model.name required>
                    <div class="invalid-feedback">
                      Ingrese un nombre valido
                    </div>
                  </div>

                  <div class="col-md-6 mb-3">
                    <label for="lastName">ID</label>
                    <input type="text" class="form-control" id="id" placeholder="" value="" name="id" [(ngModel)]=model.id required>
                    <div class="invalid-feedback">
                      Ingrese id valido
                    </div>
                  </div>

                </div>

                <hr class="mb-4">

              </form>
            </div>
          </div>

        </div>


        <div class="modal-footer">

          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-success" (click)="addCategory()" data-dismiss="modal">
            Add
          </button>

        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">


    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit productor</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">

          <div class="col sm-8">
            <h2>Update data</h2>
            <form class="form-horizontal">

              <div class="form-group">

                <div class="row">
                  <div class="col-sm-5">

                    <label for="name" class="control-label col-sm-2">
                      Nombre
                    </label>

                    <input type="text" class="form-control" id="name"
                           name="name" [(ngModel)]=model.name
                           placeholder="Nombre">
                  </div>

                  <div class="col-sm-5">
                    <label for="id" class="control-label col-sm-2">
                      ID
                    </label>

                    <input type="text" class="form-control" id="id"
                           name="id" [(ngModel)]=model.id
                           placeholder="ID">
                  </div>
                </div>
              </div>

            </form>
          </div>

        </div>


        <div class="modal-footer">

          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-success" (click)="updateCategory()" data-dismiss="modal">
            Save
          </button>

        </div>
      </div>
    </div>

  </div>

  <script>
    $('#editModal').on('shown.bs.modal', function () {
      $('#button1').trigger('focus')
    })
  </script>

</div>






